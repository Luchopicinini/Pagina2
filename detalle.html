<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Detalle Auto - CYC Automóviles</title>
  <link href="https://fonts.googleapis.com/css2?family=Barlow:wght@300;500;700&display=swap" rel="stylesheet" />
  <style>
    /* ===== RESET ===== */
    * {
      margin: 0; padding: 0; box-sizing: border-box;
    }

    /* ===== Estilos BODY ===== */
    body {
      font-family: 'Barlow', sans-serif;
      background-color: #f8f8f8;
      color: #222;
      line-height: 1.6;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    /* ===== Contenedor general ===== */
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 1rem;
      width: 90%;
    }

    /* ===== HEADER y NAV ===== */
    header {
      width: 100%;
      background-color: #111;
      border-bottom: 1px solid #333;
      position: sticky;
      top: 0;
      z-index: 1000;
    }

    header .container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 0;
      position: relative;
    }

    /* Logo */
    .logo {
      font-weight: 700;
      font-size: 1.8rem;
      color: #fff;
      text-decoration: none;
      letter-spacing: 2px;
    }

    /* NAV lista horizontal */
    nav ul {
      list-style: none;
      display: flex;
      gap: 2rem;
      margin: 0;
      padding: 0;
    }

    nav a {
      text-decoration: none;
      color: #fff;
      font-weight: 500;
      transition: color 0.3s ease;
    }

    nav a:hover {
      color: #ccc;
    }

    /* ===== BOTÓN MENU HAMBURGUESA ===== */
    #btn-menu {
      background: none;
      border: none;
      cursor: pointer;
      display: none; /* Oculto por defecto en desktop */
      padding: 0;
      margin-left: auto;
      flex-shrink: 0;
    }

    /* ===== CARRUSEL ===== */
    .carrusel {
      flex: 1 1 500px;
      position: relative;
      overflow: hidden;
      border-radius: 12px;
      box-shadow: 0 0 15px rgba(0,0,0,0.1);
      background: #fff;
      display: flex;
      align-items: center;
    }

    .carrusel .slider {
      display: flex;
      overflow-x: scroll;
      scroll-behavior: smooth;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: none; /* Firefox */
    }

    .carrusel .slider::-webkit-scrollbar {
      display: none; /* Safari y Chrome */
    }

    .carrusel .slider img {
      flex: 0 0 100%;
      max-width: 100%;
      border-radius: 12px;
      user-select: none;
      pointer-events: none;
      transition: transform 0.3s ease;
    }

    /* Flechas carrusel */
    .flecha {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background-color: rgba(0,0,0,0.4);
      color: #fff;
      border: none;
      font-size: 2rem;
      padding: 0.5rem 0.9rem;
      border-radius: 50%;
      cursor: pointer;
      z-index: 10;
      user-select: none;
      transition: background-color 0.3s ease;
    }

    .flecha:hover {
      background-color: rgba(0,0,0,0.7);
    }

    .flecha.left {
      left: 12px;
    }

    .flecha.right {
      right: 12px;
    }

    /* Indicadores carrusel */
    .indicadores {
      position: absolute;
      bottom: 12px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 8px;
      z-index: 10;
    }

    .indicadores button {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      border: none;
      background-color: rgba(255,255,255,0.6);
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    .indicadores button.active {
      background-color: #e91e63;
    }

    .indicadores button:hover {
      background-color: #e91e63;
    }

    /* ===== DETALLE DEL AUTO ===== */
    .detalle-auto {
      display: flex;
      flex-wrap: wrap;
      gap: 2rem;
      margin-top: 2rem;
    }

    .auto-info {
      flex: 1 1 400px;
      background-color: #fff;
      padding: 2rem;
      border-radius: 12px;
      box-shadow: 0 0 15px rgba(0,0,0,0.05);
      display: flex;
      flex-direction: column;
    }

    .auto-info h1 {
      font-size: 2rem;
      margin-bottom: 1rem;
    }

    .auto-info .descripcion {
      font-size: 1.1rem;
      margin-bottom: 1rem;
    }

    .auto-info .precio {
      font-size: 1.3rem;
      color: #e91e63;
      margin-bottom: 1rem;
    }

    .caracteristicas {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      margin-bottom: 1rem;
    }

    .caracteristica-item {
      background-color: #eee;
      padding: 0.5rem 1rem;
      border-radius: 8px;
      font-size: 0.95rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      min-width: 110px;
    }

    .caracteristica-item svg {
      width: 18px;
      height: 18px;
      fill: #555;
      flex-shrink: 0;
    }

    .extras {
      margin-bottom: 1.5rem;
      font-weight: 600;
    }

    .destacadas {
      background: #fef3f7;
      border-radius: 12px;
      padding: 1rem 1.5rem;
      margin-bottom: 1.5rem;
    }

    .destacadas h3 {
      margin-bottom: 1rem;
      color: #e91e63;
    }

    .destacadas ul {
      list-style: none;
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
    }

    .destacadas li {
      background: #fff;
      padding: 0.75rem 1rem;
      border-radius: 8px;
      flex: 1 1 140px;
      display: flex;
      align-items: center;
      gap: 0.6rem;
      box-shadow: 0 0 8px rgba(233,30,99,0.15);
      font-weight: 500;
      color: #555;
      font-size: 0.95rem;
    }

    .destacadas li svg {
      width: 20px;
      height: 20px;
      fill: #e91e63;
      flex-shrink: 0;
    }

    /* Formulario contacto */
    .contacto {
      margin-top: auto;
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }

    .contacto h2 {
      font-size: 1.3rem;
      margin-bottom: 0.5rem;
    }

    .contacto label {
      font-weight: 600;
      font-size: 0.95rem;
    }

    .contacto input,
    .contacto textarea {
      padding: 0.6rem;
      font-size: 1rem;
      border: 1px solid #ccc;
      border-radius: 8px;
      resize: vertical;
    }

    .contacto button {
      background-color: #111;
      color: #fff;
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: 8px;
      font-size: 1rem;
      cursor: pointer;
      transition: background 0.3s ease;
      margin-top: 1rem;
      align-self: flex-start;
    }

    .contacto button:hover {
      background-color: #333;
    }

    .btn-volver {
      display: inline-block;
      margin-top: 1.5rem;
      text-decoration: none;
      color: #111;
      font-weight: 600;
      transition: color 0.3s ease;
    }

    .btn-volver:hover {
      color: #e91e63;
    }

    /* Footer */
    footer {
      margin-top: auto;
      text-align: center;
      padding: 1.5rem 0;
      background-color: #111;
      color: #ccc;
      font-size: 0.9rem;
    }

    /* ===== Responsive ===== */
    @media (max-width: 768px) {
      /* Cambiar layout detalle auto a columna */
      .detalle-auto {
        flex-direction: column;
      }

      /* Cambiar nav a columna y esconder menú */
      nav {
        position: absolute;
        top: 60px; /* debajo del header */
        right: 1rem;
        background-color: #111;
        border-radius: 8px;
        width: 200px;
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease;
        z-index: 999;
      }
      nav.open {
        max-height: 500px; /* suficiente para mostrar menú */
      }

      nav ul {
        flex-direction: column;
        gap: 0;
        margin: 0;
        padding: 0.5rem 0;
      }

      nav li {
        border-bottom: 1px solid #333;
      }

      nav li:last-child {
        border-bottom: none;
      }

      nav a {
        display: block;
        padding: 0.75rem 1rem;
        font-weight: 500;
      }

      /* Mostrar botón menú hamburguesa */
      #btn-menu {
        display: block;
      }
    }
  </style>
</head>
<body>

  <!-- HEADER -->
  <header>
    <div class="container">
      <a href="#" class="logo">CYC Automóviles</a>

      <!-- Botón menú hamburguesa para responsive -->
      <button id="btn-menu" aria-label="Abrir menú" aria-expanded="false" aria-controls="nav-menu">
        <!-- Icono hamburguesa simple con SVG -->
        <svg width="24" height="24" fill="#fff" viewBox="0 0 24 24" aria-hidden="true">
          <rect y="4" width="24" height="2"></rect>
          <rect y="11" width="24" height="2"></rect>
          <rect y="18" width="24" height="2"></rect>
        </svg>
      </button>

      <!-- Menú de navegación -->
      <nav id="nav-menu">
        <ul>
          <li><a href="index.html">Inicio</a></li>
          <li><a href="stock.html">Stock</a></li>
          <li><a href="#">Nosotros</a></li>
          <li><a href="#">Vende tu vehículo</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- MAIN: Detalle Auto -->
  <main class="container">
    <section id="detalle-auto" aria-label="Detalle del vehículo seleccionado">
      <!-- Contenido generado por JavaScript -->
    </section>
  </main>

  <!-- FOOTER -->
  <footer>
    <p>&copy; 2025 Automotora CYC. Todos los derechos reservados.</p>
  </footer>

  <script>
    // Datos de autos con sus detalles e imágenes
    const autos = {
      "Audi-A1": {
        nombre: "Audi A1 quattro, Unico dueño",
        imagenes: [
          "images/audi1.png", "images/audi2.png", "images/audi3.png"
        ],
        descripcion: "Elegancia y deportividad con tecnología avanzada para los amantes de la conducción.",
        precio: "$25.000.000",
        kilometros: "12.000 km",
        año: "2023",
        caja: "Automática",
        combustible: "Bencina",
        extras: "Tapiz cuero, GPS, cámara 360°, asistente de estacionamiento",
      },
      "byo2": {
        nombre: "Byo sq40 Hibrido",
        imagenes: ["images/byo1.png", "images/byo2.png", "images/byo3.png"],
        descripcion: "Diseño moderno y rendimiento eficiente, ideal para ciudad y carretera.",
        precio: "$23.500.000",
        kilometros: "8.000 km",
        año: "2022",
        caja: "Manual",
        combustible: "Diesel",
        extras: "Sunroof, sistema de sonido premium, sensores de proximidad",
      },
      "auto-1": {
        nombre: "Chevrolet Tahore, Papeles al dia",
        imagenes: ["images/auto1.png", "images/auto2.png", "images/auto3.png"],
        descripcion: "Confort y lujo en un compacto que no pasa desapercibido.",
        precio: "$27.800.000",
        kilometros: "10.500 km",
        año: "2023",
        caja: "Automática",
        combustible: "Bencina",
        extras: "Pantalla táctil, control crucero adaptativo, cámara trasera, Apertura maletero",
      }
    };

    // Función para obtener parámetro de URL (ejemplo: ?auto=bmw-serie1)
    function getParam(param) {
      return new URLSearchParams(window.location.search).get(param);
    }

    const autoId = getParam('auto');  // Leer qué auto mostrar
    const auto = autos[autoId];       // Buscar auto en datos
    const contenedor = document.getElementById('detalle-auto');  // Contenedor para contenido

    if (auto) {
      // Crear los indicadores (botones pequeños para cada imagen)
      const indicadoresHTML = `
        <div class="indicadores" role="tablist" aria-label="Selector de imágenes">
          ${auto.imagenes.map((_, i) => `
            <button role="tab" aria-selected="${i === 0}" aria-controls="img-${i}" id="tab-${i}" tabindex="${i === 0 ? '0' : '-1'}" aria-label="Imagen ${i + 1}"></button>
          `).join('')}
        </div>
      `;

      // Crear la sección del carrusel con imágenes y flechas
      const imagenesHTML = `
        <div class="carrusel" tabindex="0" aria-roledescription="carousel" aria-label="Galería de imágenes del auto">
          <button class="flecha left" aria-label="Imagen anterior">&#10094;</button>
          <div class="slider" id="slider">
            ${auto.imagenes.map((img, i) => `
              <img src="${img}" alt="${auto.nombre} foto ${i+1}" id="img-${i}" role="tabpanel" aria-labelledby="tab-${i}" ${i === 0 ? '' : 'hidden'} />
            `).join('')}
          </div>
          <button class="flecha right" aria-label="Imagen siguiente">&#10095;</button>
          ${indicadoresHTML}
        </div>
      `;

      // Función para elegir icono según característica
      function iconoPorTipo(tipo) {
        switch(tipo) {
          case 'Año':
            return `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#555" d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2zM5 19V8h14v11H5z"/></svg>`;
          case 'Kilómetros':
            return `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#555" d="M12 4a8 8 0 1 0 8 8 8 8 0 0 0-8-8zm0 14a6 6 0 1 1 6-6 6 6 0 0 1-6 6zm-.5-9h1v5h-1z"/></svg>`;
          case 'Caja':
            return `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#555" d="M12 2L6 6v12l6 4 6-4V6z"/></svg>`;
          case 'Combustible':
            return `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#555" d="M6 2h12v20H6z"/></svg>`;
          default:
            return '';
        }
      }

      // Características con iconos
      const caracteristicasHTML = `
        <div class="caracteristicas">
          ${[['Año', auto.año], ['Kilómetros', auto.kilometros], ['Caja', auto.caja], ['Combustible', auto.combustible]]
            .map(([tipo, valor]) => `
              <div class="caracteristica-item" title="${tipo}">
                ${iconoPorTipo(tipo)}
                <span>${valor}</span>
              </div>
          `).join('')}
        </div>
      `;

      // Extras destacados (dividir por coma)
      const extrasHTML = `
        <div class="destacadas" aria-label="Características destacadas">
          <h3>Características Destacadas</h3>
          <ul>
            ${auto.extras.split(',').map(extra => `
              <li>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="currentColor" d="M9 16.2l-3.5-3.5 1.4-1.4L9 13.4l7.1-7.1 1.4 1.4z"/></svg>
                ${extra.trim()}
              </li>
            `).join('')}
          </ul>
        </div>
      `;

      // Formulario contacto simple
      const formularioHTML = `
        <form class="contacto" aria-label="Formulario de contacto">
          <h2>Contactar</h2>
          <label for="nombre">Nombre:</label>
          <input type="text" id="nombre" name="nombre" required autocomplete="name" />
          <label for="email">Correo electrónico:</label>
          <input type="email" id="email" name="email" required autocomplete="email" />
          <label for="mensaje">Mensaje:</label>
          <textarea id="mensaje" name="mensaje" rows="4" required></textarea>
          <button type="submit">Enviar consulta</button>
        </form>
      `;

      // Contenido completo detalle auto
      contenedor.innerHTML = `
        <div class="detalle-auto">
          ${imagenesHTML}
          <div class="auto-info">
            <h1>${auto.nombre}</h1>
            <p class="descripcion">${auto.descripcion}</p>
            <p class="precio">${auto.precio}</p>
            ${caracteristicasHTML}
            ${extrasHTML}
            ${formularioHTML}
            <a href="stock.html" class="btn-volver" aria-label="Volver al listado de autos">&larr; Volver al listado</a>
          </div>
        </div>
      `;

      // --- JavaScript para carrusel ---
      const slider = document.getElementById('slider');
      const imgs = slider.querySelectorAll('img');
      const btnIzq = document.querySelector('.flecha.left');
      const btnDer = document.querySelector('.flecha.right');
      const indicadores = document.querySelectorAll('.indicadores button');

      let indice = 0; // imagen actual

      function mostrarImagen(nuevoIndice) {
        if (nuevoIndice < 0) nuevoIndice = imgs.length - 1;
        if (nuevoIndice >= imgs.length) nuevoIndice = 0;
        // Ocultar todas las imágenes y desactivar tabs
        imgs.forEach((img, i) => {
          img.hidden = i !== nuevoIndice;
          img.setAttribute('aria-hidden', i !== nuevoIndice);
          indicadores[i].setAttribute('aria-selected', i === nuevoIndice);
          indicadores[i].tabIndex = i === nuevoIndice ? 0 : -1;
        });
        indice = nuevoIndice;
      }

      btnIzq.addEventListener('click', () => mostrarImagen(indice - 1));
      btnDer.addEventListener('click', () => mostrarImagen(indice + 1));

      indicadores.forEach((boton, i) => {
        boton.addEventListener('click', () => mostrarImagen(i));
      });

      // Inicia mostrando primera imagen
      mostrarImagen(0);

    } else {
      contenedor.innerHTML = `<p>Auto no encontrado. <a href="stock.html">Volver al listado</a></p>`;
    }

    // ===== SCRIPT para menú hamburguesa responsive =====
    const btnMenu = document.getElementById('btn-menu');
    const navMenu = document.getElementById('nav-menu');

    btnMenu.addEventListener('click', () => {
      const abierto = navMenu.classList.toggle('open');
      btnMenu.setAttribute('aria-expanded', abierto);
    });

  </script>

</body>
</html>
